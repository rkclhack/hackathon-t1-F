# 作戦ボード実装方針

## 概要
チャットアプリケーションの右側に、ルーム別の作戦ボードを実装する。各ルームに応じて異なる作戦情報や対戦相手の詳細情報を表示する。

## 実装方針

### 1. レイアウト構成
```
[Sidebar] [Chat Area] [Strategy Board]
    |         |              |
  150px    flex: 1        300px
```

### 2. コンポーネント設計

#### 2.1 StrategyBoard.vue (新規作成)
- **役割**: 作戦ボードのメインコンポーネント
- **Props**: 
  - `currentRoom`: 現在のルームID
  - `roomData`: ルーム情報
- **機能**:
  - ルームに応じた作戦情報の表示
  - 対戦相手情報の表示
  - 戦術メモの表示・編集
  - フォーメーション図の表示

#### 2.2 MatchInfo.vue (新規作成)
- **役割**: 試合情報の表示
- **Props**: 
  - `matchData`: 試合データ
- **機能**:
  - 試合日時、会場
  - 対戦相手情報
  - 試合結果（試合後）

#### 2.3 TacticsPanel.vue (新規作成)
- **役割**: 戦術パネル
- **機能**:
  - フォーメーション表示
  - 戦術メモ
  - 選手配置

### 3. データ構造設計

#### 3.1 戦略データの拡張
```javascript
const rooms = reactive({
  'team-a-match-a': {
    name: '試合A',
    type: 'match',
    icon: '🥅',
    parent: 'team-a',
    strategy: {
      opponent: {
        name: '○○高校',
        formation: '4-4-2',
        strengths: ['速攻', 'セットプレー'],
        weaknesses: ['左サイド守備', '後半スタミナ']
      },
      ourTactics: {
        formation: '4-3-3',
        keyPoints: ['右サイド攻撃', '中盤プレス'],
        players: {
          gk: '田中',
          df: ['佐藤', '鈴木', '高橋', '渡辺'],
          mf: ['山田', '中村', '小林'],
          fw: ['加藤', '吉田', '松本']
        }
      },
      memo: '前半は様子見、後半に勝負をかける'
    }
  }
})
```

### 4. ファイル構成

```
src/
├── components/
│   ├── ChatWithSidebar.vue (修正)
│   ├── StrategyBoard.vue (新規)
```

### 5. 実装手順

#### Phase 1: 基本構造の実装
1. `StrategyBoard.vue` コンポーネントの作成
2. `ChatWithSidebar.vue` のレイアウト修正（3カラム化）

#### Phase 4: データ永続化
<!-- 1. `strategyStore.js` でPinia状態管理 -->
1. とりあえずmockで作成
2. ローカルストレージへの戦略データ保存
3. データの同期機能

### 6. 表示制御ルール

#### 6.1 ルーム別表示内容
- **soccer-club**: 全体のお知らせ、スケジュール
- **team-a, team-b, team-c**: チーム方針、練習メニュー
- **team-a-match-a, team-a-match-b**: 試合別戦略、対戦相手分析

#### 6.2 権限管理（将来拡張）
- **監督・コーチ**: 戦略編集可能
- **選手**: 戦略閲覧のみ
- **マネージャー**: 試合情報編集可能

### 7. UI/UXの考慮事項

#### 7.1 レスポンシブ対応
- デスクトップ: 3カラム表示
<!-- - タブレット: 2カラム（作戦ボードはトグル表示）
- モバイル: 1カラム（タブ切り替え） -->

#### 7.2 視覚的な工夫
- 作戦ボードは薄いグレー背景で区別
- ルームタイプ別にアイコンカラーを変更
- 重要な戦術ポイントはハイライト表示

### 8. 技術仕様

#### 8.1 使用技術
- Vue 3 Composition API
- Vuetify 3 (UI コンポーネント)

#### 8.2 データ形式
- JSON形式での戦略データ管理
- ローカルストレージでの永続化

## 今後の拡張可能性

1. **リアルタイム編集**: Socket.IOを使った複数人での戦略編集
2. **分析機能**: 過去の試合データ分析
3. **動画連携**: 戦術説明動画の埋め込み
4. **印刷機能**: 戦略ボードのPDF出力
5. **外部連携**: カレンダーアプリとの試合スケジュール同期
